import{aw as h,av as q,r as t,cG as A}from"./index-qz_z9GmZ.js";const v=({tableRef:i})=>{const d=h(),n=q(),F=t.useRef(n);t.useEffect(()=>{if(F.current!==n&&(F.current=n,i!=null&&i.current)){const{api:c,columnApi:r}=(i==null?void 0:i.current)||{};if(c==null||r==null)return;const s=[d!=null&&d.id?c.getRowNode(d.id):void 0].filter(o=>o!==void 0);s&&c.redrawRows({rowNodes:s})}},[d==null?void 0:d.id,n,i]);const E=t.useMemo(()=>({"current-song":c=>{var r,u;return(d==null?void 0:d.id)!==void 0&&((r=c==null?void 0:c.data)==null?void 0:r.id)===(d==null?void 0:d.id)&&((u=c==null?void 0:c.data)==null?void 0:u.albumId)===(d==null?void 0:d.albumId)}}),[d==null?void 0:d.albumId,d==null?void 0:d.id]);return t.useEffect(()=>{const c=A.subscribe(u=>u.current.song,(u,s)=>{if(i!=null&&i.current){const{api:o,columnApi:w}=(i==null?void 0:i.current)||{};if(o==null||w==null)return;const y=u!=null&&u.id?o.getRowNode(u.id):void 0,N=s!=null&&s.id?o.getRowNode(s==null?void 0:s.id):void 0,C=[y,N].filter(I=>I!==void 0);o.redrawRows({rowNodes:C})}},{equalityFn:(u,s)=>(u==null?void 0:u.id)===(s==null?void 0:s.id)}),r=A.subscribe(u=>[u.current.status,u.current.song],u=>{const s=u[1];if(i!=null&&i.current){const{api:o,columnApi:w}=(i==null?void 0:i.current)||{};if(o==null||w==null)return;const N=[s!=null&&s.id?o.getRowNode(s.id):void 0].filter(C=>C!==void 0);o.redrawRows({rowNodes:N})}},{equalityFn:(u,s)=>u[0]===s[0]});return()=>{c(),r()}},[i]),{rowClassRules:E}};export{v as u};
//# sourceMappingURL=use-current-song-row-styles-AW__6X7H.js.map
